<html>
  <head>
    <style>
      table {
        font-family: "メイリオ", sans-serif;
        border-collapse: collapse;
        width: 80%;
      }
      td, th {
        border: 1px solid #000000;
        text-align: left;
        padding: 8px;
      }
    </style>
  </head>
  <body>
    <table border="1">
      <tr>
        <% @table["data"].first.keys.each do |key| %>
          <th><%= key %></th>
        <% end %>
      </tr>
      <% @table["data"].each do |item| %>
        <tr>
          <% item.each_value do |value| %>
            <td><%= value %></td>
          <% end %>
        </tr>
      <% end %>
    </table>
  </body>
  <div>
    <div>
      <a href="/datafile/<%= params[:id] %>/download" class="btn btn-primary">Download spreadsheet</a>
    </div>
    <p>title : <%= @title_template %></p>
    <pre class="p-3 mb-0">
      <code class="language-javascript">
<%= @content %>
      </code>
    </pre>
    <p>openHAB ID prefix : <%= @basename %></p>
    <p>extension : <%= @file_type %></p>
  </div>
  <div class="d-flex mb-4">
    <form action="/template/<%= @id_template %>/edit" method="get">
      <input type="submit" value="edit Template" class="btn btn-primary me-2">
    </form>
    <form action="/datafile/<%= params[:id] %>/edit" method="get">
      <input type="submit" value="edit Datafile" class="btn btn-primary me-2">
    </form>
    <form action="/datafile/<%= params[:id] %>" method="post">
      <input type="hidden" name="_method" value="delete">
      <input type="submit" value="delete Datafile" class="btn btn-primary">
    </form>
  </div>
  <div>
    <a class="btn btn-secondary" href="/datafile">back to Datafile</a>
  </div>
</html>