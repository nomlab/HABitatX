<form action="/datafile/<%= params[:id] %>" method="post">
  <div class="mb-3">
    <label for="title_datafile" class="form-label">title</label>
    <input type="text" id="title_datafile" name="title_datafile" value="<%= @title_datafile %>" class="form-control">
  </div>
  <div class="mb-3">
    <label for="table" class="form-label">Spreadsheet</label>
      <table class="table">
        <thead>
          <tr>
            <% @table["data"].first.keys.each do |key| %>
              <th><%= key %></th>
            <% end %>
          </tr>
        </thead>
      <tbody>
        <% @table["data"].each do |row| %>
          <tr>
            <% row.each do |key, value| %>
              <td><input type="text" name="<%= key %>[]" value="<%= value %>" class="form-control"></td>
            <% end %>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
  <div class="mb-3">
    <label for="title_template" class="form-label">code</label>
    <select id="title_template" name="title_template" class="form-control">
      <option value="">code</option>
      <% @template.each do |template| %>
        <option value="<%= template["title_template"] %>"><%= template["title_template"] %></option>
      <% end %>
    </select>
  </div>
  <div>
    <input type="hidden" name="_method" value="patch">
    <input type="submit" value="submit" class="btn btn-primary">
  </div>
</form>
<div>
  <a class="btn btn-secondary" href="/datafile/<%= params[:id] %>">back</a>
</div>
